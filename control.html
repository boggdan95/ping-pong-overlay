<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control Panel</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 30px 20px;
        }

        .container {
            max-width: 700px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            font-size: 32px;
        }

        .panel {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .player-section {
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 2px solid #eee;
        }

        .player-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .player-title {
            font-size: 24px;
            font-weight: bold;
            color: #0052CC;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            font-weight: bold;
            margin-bottom: 6px;
            color: #333;
            font-size: 13px;
        }

        input[type="text"],
        input[type="number"] {
            width: 100%;
            padding: 10px 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        input[type="number"]:focus {
            outline: none;
            border-color: #0052CC;
            background: #f0f5ff;
        }

        .row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        button {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-plus {
            background: #4CAF50;
            color: white;
        }

        .btn-plus:hover {
            background: #45a049;
        }

        .btn-minus {
            background: #f44336;
            color: white;
        }

        .btn-minus:hover {
            background: #da190b;
        }

        .service-section {
            background: #f0f5ff;
            padding: 20px;
            border-radius: 12px;
            margin-top: 30px;
        }

        .service-section h3 {
            margin-bottom: 15px;
            color: #0052CC;
            font-size: 15px;
        }

        .service-buttons {
            display: flex;
            gap: 10px;
        }

        .btn-service {
            flex: 1;
            padding: 12px;
            border: 2px solid #0052CC;
            background: white;
            color: #0052CC;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .btn-service:hover {
            background: #f0f5ff;
        }

        .btn-service.active {
            background: #0052CC;
            color: white;
        }

        .reset-section {
            background: #fff3e0;
            padding: 20px;
            border-radius: 12px;
            margin-top: 30px;
            border: 2px solid #ff9800;
        }

        .reset-section h3 {
            margin-bottom: 15px;
            color: #ff6f00;
            font-size: 15px;
        }

        .btn-reset {
            width: 100%;
            background: #ff9800;
            color: white;
            padding: 12px;
            font-size: 14px;
        }

        .btn-reset:hover {
            background: #ff6f00;
        }

        .background-section {
            background: #f0f0f0;
            padding: 20px;
            border-radius: 12px;
            margin-top: 30px;
            border: 2px solid #9e9e9e;
        }

        .background-section h3 {
            margin-bottom: 15px;
            color: #424242;
            font-size: 15px;
        }

        .color-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .btn-color {
            padding: 12px;
            border: 3px solid transparent;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 12px;
            text-align: center;
        }

        .btn-color:hover {
            transform: scale(1.05);
            border-color: #333;
        }

        .btn-color.active {
            border-color: #0052CC;
            box-shadow: 0 0 10px rgba(0, 82, 204, 0.5);
        }

        .btn-color.green {
            background: #00FF00;
            color: #000;
        }

        .btn-color.blue {
            background: #0000FF;
            color: #fff;
        }

        .btn-color.magenta {
            background: #FF00FF;
            color: #fff;
        }

        .btn-color.red {
            background: #FF0000;
            color: #fff;
        }

        .btn-color.gradient {
            background: linear-gradient(135deg, #003d8c 0%, #0052CC 100%);
            color: #fff;
        }

        .btn-color.transparent {
            background: repeating-linear-gradient(
                45deg,
                #ccc,
                #ccc 10px,
                #fff 10px,
                #fff 20px
            );
            color: #000;
        }

        .custom-color-row {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .custom-color-row input[type="color"] {
            width: 60px;
            height: 40px;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
        }

        .custom-color-row button {
            flex: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚öôÔ∏è Panel de Control</h1>

        <div class="panel">
            <!-- Jugador 1 -->
            <div class="player-section">
                <div class="player-title">Jugador 1</div>

                <div class="form-group">
                    <label>Nombre</label>
                    <input type="text" id="player1Name" value="H√©ctor L√≥pez" onchange="updateData()">
                </div>

                <div class="form-group">
                    <label>Rol / Descripci√≥n</label>
                    <input type="text" id="player1Role" value="Jugador 1" onchange="updateData()">
                </div>

                <div class="form-group">
                    <label>Bandera (emoji)</label>
                    <input type="text" id="player1Flag" value="üá™üá∏" maxlength="2" onchange="updateData()">
                </div>

                <div class="row">
                    <div class="form-group">
                        <label>Puntos</label>
                        <div class="btn-group">
                            <button class="btn-minus" onclick="changePoints(1, -1)">‚àí</button>
                            <input type="number" id="points1" value="7" readonly>
                            <button class="btn-plus" onclick="changePoints(1, 1)">+</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Sets</label>
                        <div class="btn-group">
                            <button class="btn-minus" onclick="changeSets(1, -1)">‚àí</button>
                            <input type="number" id="sets1" value="1" readonly>
                            <button class="btn-plus" onclick="changeSets(1, 1)">+</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Jugador 2 -->
            <div class="player-section">
                <div class="player-title">Jugador 2</div>

                <div class="form-group">
                    <label>Nombre</label>
                    <input type="text" id="player2Name" value="Susana Mart√≠nez" onchange="updateData()">
                </div>

                <div class="form-group">
                    <label>Rol / Descripci√≥n</label>
                    <input type="text" id="player2Role" value="Jugador 2" onchange="updateData()">
                </div>

                <div class="form-group">
                    <label>Bandera (emoji)</label>
                    <input type="text" id="player2Flag" value="üá¶üá∑" maxlength="2" onchange="updateData()">
                </div>

                <div class="row">
                    <div class="form-group">
                        <label>Puntos</label>
                        <div class="btn-group">
                            <button class="btn-minus" onclick="changePoints(2, -1)">‚àí</button>
                            <input type="number" id="points2" value="5" readonly>
                            <button class="btn-plus" onclick="changePoints(2, 1)">+</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Sets</label>
                        <div class="btn-group">
                            <button class="btn-minus" onclick="changeSets(2, -1)">‚àí</button>
                            <input type="number" id="sets2" value="0" readonly>
                            <button class="btn-plus" onclick="changeSets(2, 1)">+</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Servicio -->
            <div class="service-section">
                <h3>üéæ ¬øQui√©n est√° sirviendo?</h3>
                <div class="service-buttons">
                    <button class="btn-service active" id="serviceBtn1" onclick="setService(1)">
                        Jugador 1
                    </button>
                    <button class="btn-service" id="serviceBtn2" onclick="setService(2)">
                        Jugador 2
                    </button>
                </div>
            </div>

            <!-- Color de Fondo (Chroma Key) -->
            <div class="background-section">
                <h3>üé® Color de Fondo (Chroma Key)</h3>
                <div class="color-grid">
                    <button class="btn-color green" onclick="setBackground('green')" id="bgGreen">
                        üü¢ Verde
                    </button>
                    <button class="btn-color blue" onclick="setBackground('blue')" id="bgBlue">
                        üîµ Azul
                    </button>
                    <button class="btn-color magenta" onclick="setBackground('magenta')" id="bgMagenta">
                        üü£ Magenta
                    </button>
                    <button class="btn-color red" onclick="setBackground('red')" id="bgRed">
                        üî¥ Rojo
                    </button>
                    <button class="btn-color gradient active" onclick="setBackground('gradient')" id="bgGradient">
                        üåà Gradiente
                    </button>
                    <button class="btn-color transparent" onclick="setBackground('transparent')" id="bgTransparent">
                        ‚ö™ Transparente
                    </button>
                </div>
                <div class="custom-color-row">
                    <input type="color" id="customColorPicker" value="#00FF00">
                    <button class="btn-color" onclick="setCustomBackground()" id="bgCustom">
                        ‚úèÔ∏è Aplicar Color Personalizado
                    </button>
                </div>
            </div>

            <!-- Reset -->
            <div class="reset-section">
                <h3>üîÑ Restablecer</h3>
                <button class="btn-reset" onclick="resetAll()">Reiniciar Todo</button>
            </div>
        </div>
    </div>

    <script>
        // Estado global
        let gameState = {
            player1: { name: 'H√©ctor L√≥pez', role: 'Jugador 1', points: 7, sets: 1, service: true, flag: 'üá™üá∏' },
            player2: { name: 'Susana Mart√≠nez', role: 'Jugador 2', points: 5, sets: 0, service: false, flag: 'üá¶üá∑' },
            background: {
                type: 'gradient',  // 'solid', 'gradient', 'transparent'
                color: '#00FF00'   // color para tipo 'solid'
            }
        };

        // Cargar estado
        function loadState() {
            const saved = localStorage.getItem('gameState');
            if (saved) {
                gameState = JSON.parse(saved);
            }
            updateDisplay();
        }

        // Actualizar pantalla
        function updateDisplay() {
            document.getElementById('player1Name').value = gameState.player1.name;
            document.getElementById('player2Name').value = gameState.player2.name;
            document.getElementById('player1Role').value = gameState.player1.role;
            document.getElementById('player2Role').value = gameState.player2.role;
            document.getElementById('player1Flag').value = gameState.player1.flag;
            document.getElementById('player2Flag').value = gameState.player2.flag;
            document.getElementById('points1').value = gameState.player1.points;
            document.getElementById('points2').value = gameState.player2.points;
            document.getElementById('sets1').value = gameState.player1.sets;
            document.getElementById('sets2').value = gameState.player2.sets;

            // Botones de servicio
            document.getElementById('serviceBtn1').classList.toggle('active', gameState.player1.service);
            document.getElementById('serviceBtn2').classList.toggle('active', gameState.player2.service);

            // Actualizar botones de fondo
            updateBackgroundButtons();

            // Guardar
            localStorage.setItem('gameState', JSON.stringify(gameState));
        }

        // Actualizar botones de color activos
        function updateBackgroundButtons() {
            // Remover clase active de todos
            document.querySelectorAll('.btn-color').forEach(btn => btn.classList.remove('active'));

            // Marcar el activo seg√∫n el tipo
            const bg = gameState.background;
            if (bg.type === 'gradient') {
                document.getElementById('bgGradient').classList.add('active');
            } else if (bg.type === 'transparent') {
                document.getElementById('bgTransparent').classList.add('active');
            } else if (bg.type === 'solid') {
                // Determinar qu√© bot√≥n activar seg√∫n el color
                if (bg.color === '#00FF00') {
                    document.getElementById('bgGreen').classList.add('active');
                } else if (bg.color === '#0000FF') {
                    document.getElementById('bgBlue').classList.add('active');
                } else if (bg.color === '#FF00FF') {
                    document.getElementById('bgMagenta').classList.add('active');
                } else if (bg.color === '#FF0000') {
                    document.getElementById('bgRed').classList.add('active');
                } else {
                    // Color personalizado
                    document.getElementById('bgCustom').classList.add('active');
                }
            }
        }

        // Actualizar datos
        function updateData() {
            gameState.player1.name = document.getElementById('player1Name').value || 'Jugador 1';
            gameState.player2.name = document.getElementById('player2Name').value || 'Jugador 2';
            gameState.player1.role = document.getElementById('player1Role').value || 'Jugador 1';
            gameState.player2.role = document.getElementById('player2Role').value || 'Jugador 2';
            gameState.player1.flag = document.getElementById('player1Flag').value || 'üá™üá∏';
            gameState.player2.flag = document.getElementById('player2Flag').value || 'üá¶üá∑';
            updateDisplay();
        }

        // Cambiar puntos
        function changePoints(player, delta) {
            gameState['player' + player].points = Math.max(0, gameState['player' + player].points + delta);
            updateDisplay();
        }

        // Cambiar sets
        function changeSets(player, delta) {
            gameState['player' + player].sets = Math.max(0, gameState['player' + player].sets + delta);
            updateDisplay();
        }

        // Cambiar servicio
        function setService(player) {
            gameState.player1.service = player === 1;
            gameState.player2.service = player === 2;
            updateDisplay();
        }

        // Cambiar color de fondo
        function setBackground(type) {
            const colorMap = {
                'green': '#00FF00',
                'blue': '#0000FF',
                'magenta': '#FF00FF',
                'red': '#FF0000'
            };

            if (type === 'gradient') {
                gameState.background = {
                    type: 'gradient',
                    color: '#00FF00'
                };
            } else if (type === 'transparent') {
                gameState.background = {
                    type: 'transparent',
                    color: '#00FF00'
                };
            } else {
                // Color s√≥lido
                gameState.background = {
                    type: 'solid',
                    color: colorMap[type]
                };
            }
            updateDisplay();
        }

        // Aplicar color personalizado
        function setCustomBackground() {
            const customColor = document.getElementById('customColorPicker').value;
            gameState.background = {
                type: 'solid',
                color: customColor
            };
            updateDisplay();
        }

        // Reiniciar
        function resetAll() {
            if (confirm('¬øReiniciar todo?')) {
                gameState = {
                    player1: { name: 'H√©ctor L√≥pez', role: 'Jugador 1', points: 0, sets: 0, service: true, flag: 'üá™üá∏' },
                    player2: { name: 'Susana Mart√≠nez', role: 'Jugador 2', points: 0, sets: 0, service: false, flag: 'üá¶üá∑' },
                    background: {
                        type: 'gradient',
                        color: '#00FF00'
                    }
                };
                updateDisplay();
            }
        }

        // Iniciar
        loadState();
    </script>
</body>
</html>
